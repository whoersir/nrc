# ä¸ªäººäº‘ç©ºé—´é¡¹ç›®

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ä¸ªäººäº‘ç©ºé—´åº”ç”¨ï¼Œé›†æˆäº†éŸ³ä¹æ’­æ”¾ã€AI åŠ©æ‰‹ã€ä¸ªäººç©ºé—´å’Œåœ¨çº¿æ¸¸æˆç­‰åŠŸèƒ½ã€‚

[![Next.js](https://img.shields.io/badge/Next.js-16.1.1-black?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2.3-blue?style=for-the-badge&logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![pnpm](https://img.shields.io/badge/pnpm-9.0.0-f69220?style=for-the-badge&logo=pnpm)](https://pnpm.io/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-4-38bdf8?style=for-the-badge&logo=tailwind-css)](https://tailwindcss.com/)

## ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [ç¯å¢ƒé…ç½®](#ç¯å¢ƒé…ç½®)
- [API ç«¯ç‚¹](#api-ç«¯ç‚¹)
- [éƒ¨ç½²](#éƒ¨ç½²)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ–‡æ¡£ç´¢å¼•](#æ–‡æ¡£ç´¢å¼•)

## åŠŸèƒ½ç‰¹æ€§

### ä¸ªäººç©ºé—´
- è‡ªå®šä¹‰ç”¨æˆ·ä¸“å±ç©ºé—´
- ä¸ªæ€§åŒ–ç»„ä»¶å±•ç¤º
- ç”¨æˆ·èµ„æ–™ç®¡ç†
- æ˜µç§°å’Œä¸ªäººä¿¡æ¯è®¾ç½®

### AI Agent åŠ©æ‰‹
- æ™ºèƒ½å¯¹è¯åŠŸèƒ½
- å¤šè½®å¯¹è¯æ”¯æŒ
- æµå¼å“åº”
- ä¼šè¯å†å²ç®¡ç†

### éŸ³ä¹æ’­æ”¾å™¨
- æœ¬åœ°éŸ³ä¹åº“æ‰«æ
- éŸ³ä¹æ’­æ”¾æ§åˆ¶ï¼ˆæ’­æ”¾/æš‚åœ/ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–ï¼‰
- æ’­æ”¾è¿›åº¦æ‹–åŠ¨
- éŸ³é‡æ§åˆ¶
- æ’­æ”¾é˜Ÿåˆ—ç®¡ç†
- æ”¶è—æ­Œæ›²åŠŸèƒ½
- å°é¢æ˜¾ç¤º
- æ­Œæ›²å…ƒæ•°æ®æå–
- æŒ‰æ­Œæ‰‹ã€ä¸“è¾‘åˆ†ç±»
- æ’­æ”¾å†å²è®°å½•

### åœ¨çº¿æ¸¸æˆ
- ğŸ è´ªåƒè›‡ - ç»å…¸è¡—æœºæ¸¸æˆï¼Œæ”¯æŒæ’è¡Œæ¦œ
- â­• äº”å­æ£‹ - åŒäººå¯¹æˆ˜ç­–ç•¥æ¸¸æˆ
- ğŸ† æ¸¸æˆæ’è¡Œæ¦œ - è®°å½•é«˜åˆ†ï¼Œä¸å¥½å‹ç«æŠ€

### ç”¨æˆ·ç³»ç»Ÿ
- ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- Supabase è®¤è¯é›†æˆ
- ä¼šè¯ç®¡ç†

## æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **Next.js 16.1.1** - React æ¡†æ¶
- **React 19.2.3** - UI åº“
- **TypeScript 5** - ç±»å‹å®‰å…¨

### UI ç»„ä»¶
- **Radix UI** - æ— éšœç¢ç»„ä»¶åº“
- **shadcn/ui** - é«˜è´¨é‡ UI ç»„ä»¶
- **Lucide React** - å›¾æ ‡åº“
- **Tailwind CSS 4** - æ ·å¼æ¡†æ¶
- **next-themes** - ä¸»é¢˜ç®¡ç†
- **sonner** - Toast é€šçŸ¥

### çŠ¶æ€ç®¡ç†å’Œè¡¨å•
- **React Hook Form** - è¡¨å•ç®¡ç†
- **Zod** - æ•°æ®éªŒè¯
- **date-fns** - æ—¥æœŸå¤„ç†

### æ•°æ®å­˜å‚¨
- **Supabase** - åç«¯æœåŠ¡
  - PostgreSQL æ•°æ®åº“
  - ç”¨æˆ·è®¤è¯
  - å®æ—¶è®¢é˜…
- **Drizzle ORM** - æ•°æ®åº“ ORM

### å…¶ä»–ä¾èµ–
- **AWS SDK** - äº‘å­˜å‚¨
- **Embla Carousel** - è½®æ’­ç»„ä»¶
- **Recharts** - æ•°æ®å¯è§†åŒ–
- **cmdk** - å‘½ä»¤é¢æ¿

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18
- pnpm >= 9.0.0
- Supabase è´¦å·

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### ç¯å¢ƒé…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# Supabase ç¯å¢ƒé…ç½®
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# åº”ç”¨åœ°å€
NEXT_PUBLIC_APP_URL=http://localhost:5000

# å¤©æ°”APIé…ç½®
NEXT_PUBLIC_WEATHER_APP_KEY=your-api-key
NEXT_PUBLIC_WEATHER_UID=your-uid
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£ 5000ï¼‰
pnpm dev

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆlegacy æ¨¡å¼ï¼‰
pnpm dev:legacy
```

è®¿é—®åº”ç”¨ï¼šhttp://localhost:5000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
pnpm start
```

### ç±»å‹æ£€æŸ¥

```bash
pnpm ts-check
```

### ä»£ç æ£€æŸ¥

```bash
pnpm lint
```

## é¡¹ç›®ç»“æ„

```
projects/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ api/                  # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ music/            # éŸ³ä¹ç›¸å…³ API
â”‚   â”‚   â”œâ”€â”€ favorites/        # æ”¶è— API
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ music/               # éŸ³ä¹æ’­æ”¾å™¨é¡µé¢
â”‚   â”œâ”€â”€ chat/                # AI èŠå¤©é¡µé¢
â”‚   â”œâ”€â”€ profile/             # ä¸ªäººç©ºé—´é¡µé¢
â”‚   â”œâ”€â”€ games/               # æ¸¸æˆé¡µé¢
â”‚   â”œâ”€â”€ login/               # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ register/            # æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx            # é¦–é¡µ
â”œâ”€â”€ src/                      # æºä»£ç 
â”‚   â”œâ”€â”€ components/          # å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·åº“
â”‚   â”œâ”€â”€ services/            # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ types/              # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ storage/            # æ•°æ®å­˜å‚¨
â”œâ”€â”€ db/                       # æ•°æ®åº“ç›¸å…³
â”œâ”€â”€ services/                 # API æœåŠ¡
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”œâ”€â”€ components.json           # shadcn/ui é…ç½®
â”œâ”€â”€ next.config.ts          # Next.js é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.ts      # Tailwind é…ç½®
â””â”€â”€ package.json            # é¡¹ç›®é…ç½®
```

## ç¯å¢ƒé…ç½®

### å¿…éœ€å˜é‡

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| `NEXT_PUBLIC_SUPABASE_URL` | Supabase é¡¹ç›® URL | `https://your-project.supabase.co` |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | Supabase åŒ¿åå¯†é’¥ | `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...` |
| `NEXT_PUBLIC_APP_URL` | åº”ç”¨è®¿é—®åœ°å€ | `http://localhost:5000` |

### å¯é€‰å˜é‡

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|---------|------|------|
| `NEXT_PUBLIC_WEATHER_APP_KEY` | å¤©æ°” API å¯†é’¥ | `your-weather-api-key` |
| `NEXT_PUBLIC_WEATHER_UID` | å¤©æ°” API ç”¨æˆ· ID | `your-weather-uid` |

## API ç«¯ç‚¹

### éŸ³ä¹ API

#### æ‰«æéŸ³ä¹åº“
```http
POST /api/music/scan
Content-Type: application/json

{
  "verbose": true,
  "extractMetadata": false
}
```

#### è·å–æ­Œæ›²åˆ—è¡¨
```http
GET /api/music/tracks?page=1&limit=10
```

#### è·å–æ­Œæ‰‹åˆ—è¡¨
```http
GET /api/music/artists?limit=10
```

#### æœç´¢æ­Œæ›²
```http
GET /api/music/search?q=æœç´¢å…³é”®è¯
```

### æ”¶è— API

#### è·å–æ”¶è—åˆ—è¡¨
```http
GET /api/favorites
```

#### æ·»åŠ æ”¶è—
```http
POST /api/favorites
Content-Type: application/json

{
  "trackId": "track_6412cc2d"
}
```

#### åˆ é™¤æ”¶è—
```http
DELETE /api/favorites/:trackId
```

## éƒ¨ç½²

### ğŸ‰ CloudBase éƒ¨ç½²ï¼ˆå·²å®Œæˆï¼‰

**éƒ¨ç½²çŠ¶æ€**ï¼šâœ… å·²æˆåŠŸéƒ¨ç½²

**è®¿é—®åœ°å€**ï¼šhttps://nrc-web-223371-6-1392812070.sh.run.tcloudbase.com

**éƒ¨ç½²ä¿¡æ¯**ï¼š
- **æœåŠ¡åç§°**ï¼šnrc-web
- **æœåŠ¡ç±»å‹**ï¼šå®¹å™¨å‹ï¼ˆCloudRunï¼‰
- **CPU**ï¼š0.5 æ ¸
- **å†…å­˜**ï¼š1 GB
- **ç«¯å£**ï¼š3000
- **çŠ¶æ€**ï¼šæ­£å¸¸è¿è¡Œ
- **è‡ªåŠ¨æ‰©ç¼©å®¹**ï¼šå·²å¯ç”¨

**ç®¡ç†æ§åˆ¶å°**ï¼š
- æœåŠ¡è¯¦æƒ…ï¼šhttps://tcb.cloud.tencent.com/dev?envId=nrc-8ggxdu3m3534afc0#/platform-run?serverName=nrc-web
- æœåŠ¡ç›‘æ§ï¼šhttps://tcb.cloud.tencent.com/dev?envId=nrc-8ggxdu3m3534afc0#/devops/log

### Vercel éƒ¨ç½²

```bash
npm install -g vercel
vercel
```

### è‡ªå®šä¹‰æœåŠ¡å™¨éƒ¨ç½²

```bash
pnpm build
pnpm start
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `app/` ç›®å½•åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. æ·»åŠ  `page.tsx` æ–‡ä»¶
3. å®ç°é¡µé¢ç»„ä»¶

### æ·»åŠ  API ç«¯ç‚¹

1. åœ¨ `app/api/` ç›®å½•åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. æ·»åŠ  `route.ts` æ–‡ä»¶
3. å®ç°å¤„ç†é€»è¾‘

### æ•°æ®åº“æ“ä½œ

ä½¿ç”¨ Drizzle ORMï¼š

```typescript
import { db } from '@/lib/db';
import { users } from '@/lib/schema';

// æŸ¥è¯¢ç”¨æˆ·
const user = await db.select().from(users).where(eq(users.id, userId));

// æ’å…¥æ•°æ®
await db.insert(users).values({ name: 'John' });
```

### ç»„ä»¶æ ·å¼

ä½¿ç”¨ Tailwind CSS å’Œ shadcn/ui ç»„ä»¶ï¼š

```tsx
import { Button } from '@/components/ui/button';

<Button className="bg-blue-500 hover:bg-blue-600">
  Click me
</Button>
```

## æ–‡æ¡£ç´¢å¼•

- [QUICK_START.md](./projects/QUICK_START.md) - å¿«é€Ÿå¯åŠ¨æŒ‡å—
- [SUPABASE.md](./projects/SUPABASE.md) - Supabase é…ç½®è¯´æ˜
- [SUPABASE_CREATE_TABLES.sql](./projects/SUPABASE_CREATE_TABLES.sql) - æ•°æ®åº“è¡¨åˆ›å»ºè„šæœ¬
- [DATABASE_SQL.sql](./projects/DATABASE_SQL.sql) - æ•°æ®åº“ SQL è„šæœ¬
- [DEPLOYMENT_GUIDE.md](./projects/DEPLOYMENT_GUIDE.md) - éƒ¨ç½²æŒ‡å—
- [TROUBLESHOOTING.md](./projects/TROUBLESHOOTING.md) - é—®é¢˜æ’æŸ¥æŒ‡å—

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ

A: åœ¨ Supabase æ§åˆ¶å°æ‰§è¡Œ `SUPABASE_CREATE_TABLES.sql` ä¸­çš„ DROP å’Œ CREATE è¯­å¥ã€‚

### Q: éŸ³ä¹æ‰«æå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥éŸ³ä¹æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿æœ‰è¯»å–æƒé™ï¼Œå¯ä»¥å°è¯•é‡æ–°æ‰«æã€‚

### Q: å¦‚ä½•åˆ‡æ¢ä¸»é¢˜ï¼Ÿ

A: ä½¿ç”¨ `next-themes` æä¾›çš„ `useTheme` é’©å­ï¼š

```typescript
const { theme, setTheme } = useTheme();
setTheme('dark');
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚
